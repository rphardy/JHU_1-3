#Assignment 2 - Part 2
setwd("C:/Users/Richard/dsprojects/RProgrammingCourse/Week2/Week2_Assignment")
dataseturl <- "https://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip"
download.file(dataseturl, destfile="rprog_data_specdata.zip")
unzip("rprog_data_specdata.zip")
complete <- function(directory, id = 1:332){
files_list <- list.files(directory, full.names=TRUE)
nobs <- vector()
for (i in id){
dat <- read.csv(files_list[i])
nobs  <- c(nobs, sum(complete.cases(dat), na.rm=TRUE))
}
out <- cbind(id,nobs)
print(out)
}
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
?cor
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector()
for (i in id){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- c(corrs, cor(dat[,"sulfate"],dat[,"nitrate"]))
} else {corrs <- vector()}
}
print(corrs)
}
corr()
cr <- corr("specdata", 150)
head(cr)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector()
for (i in length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- c(corrs, cor(dat[,"sulfate"],dat[,"nitrate"]))
} else {corrs <- vector()}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector()
for (i in length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- c(corrs, cor(dat[,"sulfate"],dat[,"nitrate"]))
} else {corrs <- c(corrs, 0)}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector()
for (i in length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- c(corrs, cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs"))
} else {corrs}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector()
for (i in length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- c(corrs, cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs"))
} else {corrs <- vector("numeric", length = 0)}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- vector(corrs, cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs"))
} else {corrs <- vector("numeric", length = 0)}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- vector(corrs, cor(dat[,"sulfate"], dat[,"nitrate"]))
} else {corrs <- vector("numeric", length = 0)}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- vector(corrs, cor(dat[,"sulfate"], dat[,"nitrate"], use = "pairwise.complete.obs"))
} else {corrs <- vector("numeric", length = 0)}
}
print(corrs)
}
cr <- corr("specdata", 150)
#Still needs work - stuck here
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- vector(corrs, cor(dat[,"sulfate"], dat[,"nitrate"], method = "pearson", use = "pairwise.complete.obs"))
} else {corrs <- vector("numeric", length = 0)}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- vector(corrs, cor(dat[,"sulfate"], dat[,"nitrate"], method = "pearson"))
} else {corrs <- vector("numeric", length = 0)}
}
print(corrs)
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- vector(corrs, cor(dat[,"sulfate"], dat[,"nitrate"], method = "pearson"))
} else {corrs <- vector("numeric", length = 0)}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- vector(corrs, cor(dat[,"sulfate"], dat[,"nitrate"], method = "pearson", na.rm = TRUE))
} else {corrs <- vector("numeric", length = 0)}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- vector(corrs, cor(dat[,"sulfate"], dat[,"nitrate"], method = "pearson"))
} else {corrs <- vector("numeric", length = 0)}
}
print(corrs)
}
cr <- corr("specdata", 150)
dat001 <- read.csv(files_list[1])
files_list <- list.files(directory, full.names=TRUE)
files_list <- list.files("specdata", full.names=TRUE)
dat001 <- read.csv(files_list[1])
corr001 <- cor(dat001[,"sulfate"],dat001[,"nitrate"])
corr001 <- cor(dat001[,"sulfate"],dat001[,"nitrate"], use = "pairwise")
corr001 <- cor(dat001[,"sulfate"],dat001[,"nitrate"], use = "pairwise.complete.obs")
corr001 <- cor(dat001[,"sulfate"],dat001[,"nitrate"], use = "pairwise.complete.obs")
corr001 <- cor(dat001[,"sulfate"],dat001[,"nitrate"], use = "pairwise.complete.obs")
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
corrs <- vector(corrs, cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs"))
} else {corrs <- corrs}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
xxx <- cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs")
corrs <- vector(corrs, xxx)
} else {corrs <- corrs}
}
print(corrs)
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
xxx <- cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs")
corrs <- vector(corrs, xxx)
} else {corrs <- corrs}
}
print(corrs)
}
cr <- corr("specdata", 150)
#Still needs work - stuck here
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
if (sum(complete.cases(dat), na.rm=TRUE) > threshold) {
xxx <- cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs")
corrs <- vector(corrs, xxx)
} else {corrs <- corrs}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
nobs <- sum(complete.cases(dat), na.rm=TRUE)
if ( nobs > threshold) {
xxx <- cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs")
corrs <- vector(corrs, xxx)
} else {corrs <- corrs}
}
print(corrs)
}
cr <- corr("specdata", 150)
corr001 <- cor(dat001[,"sulfate"],dat001[,"nitrate"], use = "pairwise.complete.obs")
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
nobs <- sum(complete.cases(dat), na.rm=TRUE)
if ( nobs > threshold) {
xxx <- cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs")
corrs <- c(corrs, xxx)
} else {corrs <- corrs}
}
print(corrs)
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
#Week 2 Assignment - Part 3
setwd("C:/Users/Richard/dsprojects/RProgrammingCourse/Week2/Week2_Assignment")
dataseturl <- "https://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip"
download.file(dataseturl, destfile="rprog_data_specdata.zip")
unzip("rprog_data_specdata.zip")
#Correct now?
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
nobs <- sum(complete.cases(dat), na.rm=TRUE)
if ( nobs > threshold) {
xxx <- cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs")
corrs <- c(corrs, xxx)
} else {corrs <- corrs}
}
print(corrs)
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
length(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
#Week 2 Assignment - Part 3
setwd("C:/Users/Richard/dsprojects/RProgrammingCourse/Week2/Week2_Assignment")
dataseturl <- "https://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip"
download.file(dataseturl, destfile="rprog_data_specdata.zip")
unzip("rprog_data_specdata.zip")
#Correct now?
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
nobs <- sum(complete.cases(dat), na.rm=TRUE)
if ( nobs > threshold) {
xxx <- cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs")
corrs <- c(corrs, xxx)
} else {corrs <- corrs}
}
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
length(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
#Week 2 Assignment - Part 3
setwd("C:/Users/Richard/dsprojects/RProgrammingCourse/Week2/Week2_Assignment")
dataseturl <- "https://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip"
download.file(dataseturl, destfile="rprog_data_specdata.zip")
unzip("rprog_data_specdata.zip")
#Correct now?
corr <- function(directory, threshold = 0){
files_list <- list.files(directory, full.names=TRUE)
corrs <- vector("numeric", length=0)
for (i in 1:length(files_list)){
dat <- read.csv(files_list[i])
nobs <- sum(complete.cases(dat), na.rm=TRUE)
if ( nobs > threshold) {
xxx <- cor(dat[,"sulfate"],dat[,"nitrate"], use = "pairwise.complete.obs")
corrs <- c(corrs, xxx)
} else {corrs <- corrs}
}
print(corrs)
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
length(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
# Week 2 Assignment - Part 1.
setwd("C:/Users/Richard/dsprojects/RProgrammingCourse/Week2/Week2_Assignment")
dataseturl <- "https://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip"
download.file(dataseturl, destfile="rprog_data_specdata.zip")
unzip("rprog_data_specdata.zip")
pollutantmean <- function(directory, pollutant, id = 1:332){
files_list <- list.files(directory, full.names=TRUE)
dat <- data.frame()
for (i in id){
dat <- rbind(dat, read.csv(files_list[i]))
}
mean(dat[, pollutant], na.rm = TRUE)
}
pollutantmean("specdata","sulfate", 1:10)
pollutantmean("specdata","nitrate", 70:72)
pollutantmean("specdata","nitrate", 23)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
#Week 2 Assignment- Part 2
setwd("C:/Users/Richard/dsprojects/RProgrammingCourse/Week2/Week2_Assignment")
dataseturl <- "https://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip"
download.file(dataseturl, destfile="rprog_data_specdata.zip")
unzip("rprog_data_specdata.zip")
complete <- function(directory, id = 1:332){
files_list <- list.files(directory, full.names=TRUE)
nobs <- vector()
for (i in id){
dat <- read.csv(files_list[i])
nobs  <- c(nobs, sum(complete.cases(dat), na.rm=TRUE))
}
out <- cbind(id,nobs)
print(out)
}
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
RNGversion("3.5.1")
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
RNGversion("3.5.1")
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
RNGversion("3.5.1")
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
